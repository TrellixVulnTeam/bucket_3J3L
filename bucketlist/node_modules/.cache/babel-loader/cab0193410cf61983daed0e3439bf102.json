{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jayonglee/00_Study/Javascript/spartaReact/bucketlist/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;// 리액트 패키지를 불러옵니다.\nimport React from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";// redux hook을 불러옵니다.\nimport{useDispatch,useSelector}from\"react-redux\";import{deleteBucket,doneBucket,isLoaded}from\"./redux/modules/bucket\";import Button from\"@material-ui/core/Button\";import ButtonGroup from\"@material-ui/core/ButtonGroup\";import{addDoc,collection,deleteDoc,doc,updateDoc}from\"firebase/firestore\";import{db}from\"./firebase\";import styled from\"styled-components\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Detail=function Detail(props){var _bucket_list$dataIdx;// 1. useLocation 훅 취득\nvar location=useLocation();var dispatch=useDispatch();var navigate=useNavigate();var dataIdx=location.search.substring(1);// 스토어에서 상태값 가져오기\nvar bucket_list=useSelector(function(state){return state.bucket.list;});var delList=function delList(){deleteDoc(doc(db,\"bucket_list\",bucket_list[dataIdx].id));dispatch(deleteBucket(bucket_list[dataIdx].id));dispatch(isLoaded(true));navigate(-1);};var todoDone=function todoDone(){updateDoc(doc(db,\"bucket_list\",bucket_list[dataIdx].id),{completed:true});dispatch(doneBucket(bucket_list[dataIdx].id));dispatch(isLoaded(true));navigate(-1);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[dataIdx,\" \\uBC88\\uC9F8 \\uC0C1\\uC138 \\uD398\\uC774\\uC9C0\\uC785\\uB2C8\\uB2E4! \"]}),/*#__PURE__*/_jsx(TodoText,{children:(_bucket_list$dataIdx=bucket_list[dataIdx])===null||_bucket_list$dataIdx===void 0?void 0:_bucket_list$dataIdx.text}),/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{onClick:todoDone,children:\"\\uC644\\uB8CC\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(Button,{onClick:delList,children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"})]})]});};var TodoText=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    border-radius: 3px;\\n    padding: 5px;\\n    margin-bottom: 10px;\\n\"])));export default Detail;","map":{"version":3,"names":["React","useLocation","useNavigate","useDispatch","useSelector","deleteBucket","doneBucket","isLoaded","Button","ButtonGroup","addDoc","collection","deleteDoc","doc","updateDoc","db","styled","Detail","props","location","dispatch","navigate","dataIdx","search","substring","bucket_list","state","bucket","list","delList","id","todoDone","completed","text","TodoText","div"],"sources":["/Users/jayonglee/00_Study/Javascript/spartaReact/bucketlist/src/Detail.js"],"sourcesContent":["// 리액트 패키지를 불러옵니다.\nimport React from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n// redux hook을 불러옵니다.\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteBucket, doneBucket, isLoaded } from \"./redux/modules/bucket\";\n\nimport Button from \"@material-ui/core/Button\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\n\nimport { addDoc, collection, deleteDoc, doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\nimport styled from \"styled-components\";\n\nconst Detail = (props) => {\n    // 1. useLocation 훅 취득\n    const location = useLocation();\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    let dataIdx = location.search.substring(1);\n\n    // 스토어에서 상태값 가져오기\n    const bucket_list = useSelector((state) => state.bucket.list);\n\n    const delList = () => {\n        deleteDoc(doc(db, \"bucket_list\", bucket_list[dataIdx].id));\n        dispatch(deleteBucket(bucket_list[dataIdx].id));\n        dispatch(isLoaded(true));\n        navigate(-1);\n    };\n\n    const todoDone = () => {\n        updateDoc(doc(db, \"bucket_list\", bucket_list[dataIdx].id), { completed: true });\n        dispatch(doneBucket(bucket_list[dataIdx].id));\n        dispatch(isLoaded(true));\n        navigate(-1);\n    };\n\n    return (\n        <>\n            <h1>{dataIdx} 번째 상세 페이지입니다! </h1>\n            <TodoText>{bucket_list[dataIdx]?.text}</TodoText>\n            <ButtonGroup>\n                <Button onClick={todoDone}>완료하기</Button>\n                <Button onClick={delList}>삭제하기</Button>\n            </ButtonGroup>\n        </>\n    );\n};\n\nconst TodoText = styled.div`\n    border-radius: 3px;\n    padding: 5px;\n    margin-bottom: 10px;\n`;\n\nexport default Detail;\n"],"mappings":"qLAAA;AACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,kBAAzC,CACA;AACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,CAAuBC,UAAvB,CAAmCC,QAAnC,KAAmD,wBAAnD,CAEA,MAAOC,OAAP,KAAmB,0BAAnB,CACA,MAAOC,YAAP,KAAwB,+BAAxB,CAEA,OAASC,MAAT,CAAiBC,UAAjB,CAA6BC,SAA7B,CAAwCC,GAAxC,CAA6CC,SAA7C,KAA8D,oBAA9D,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,C,6IAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAW,0BACtB;AACA,GAAMC,SAAQ,CAAGlB,WAAW,EAA5B,CACA,GAAMmB,SAAQ,CAAGjB,WAAW,EAA5B,CACA,GAAMkB,SAAQ,CAAGnB,WAAW,EAA5B,CACA,GAAIoB,QAAO,CAAGH,QAAQ,CAACI,MAAT,CAAgBC,SAAhB,CAA0B,CAA1B,CAAd,CAEA;AACA,GAAMC,YAAW,CAAGrB,WAAW,CAAC,SAACsB,KAAD,QAAWA,MAAK,CAACC,MAAN,CAAaC,IAAxB,EAAD,CAA/B,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAClBjB,SAAS,CAACC,GAAG,CAACE,EAAD,CAAK,aAAL,CAAoBU,WAAW,CAACH,OAAD,CAAX,CAAqBQ,EAAzC,CAAJ,CAAT,CACAV,QAAQ,CAACf,YAAY,CAACoB,WAAW,CAACH,OAAD,CAAX,CAAqBQ,EAAtB,CAAb,CAAR,CACAV,QAAQ,CAACb,QAAQ,CAAC,IAAD,CAAT,CAAR,CACAc,QAAQ,CAAC,CAAC,CAAF,CAAR,CACH,CALD,CAOA,GAAMU,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnBjB,SAAS,CAACD,GAAG,CAACE,EAAD,CAAK,aAAL,CAAoBU,WAAW,CAACH,OAAD,CAAX,CAAqBQ,EAAzC,CAAJ,CAAkD,CAAEE,SAAS,CAAE,IAAb,CAAlD,CAAT,CACAZ,QAAQ,CAACd,UAAU,CAACmB,WAAW,CAACH,OAAD,CAAX,CAAqBQ,EAAtB,CAAX,CAAR,CACAV,QAAQ,CAACb,QAAQ,CAAC,IAAD,CAAT,CAAR,CACAc,QAAQ,CAAC,CAAC,CAAF,CAAR,CACH,CALD,CAOA,mBACI,wCACI,sBAAKC,OAAL,uEADJ,cAEI,KAAC,QAAD,iCAAWG,WAAW,CAACH,OAAD,CAAtB,+CAAW,qBAAsBW,IAAjC,EAFJ,cAGI,MAAC,WAAD,yBACI,KAAC,MAAD,EAAQ,OAAO,CAAEF,QAAjB,sCADJ,cAEI,KAAC,MAAD,EAAQ,OAAO,CAAEF,OAAjB,sCAFJ,GAHJ,GADJ,CAUH,CAlCD,CAoCA,GAAMK,SAAQ,CAAGlB,MAAM,CAACmB,GAAV,yIAAd,CAMA,cAAelB,OAAf"},"metadata":{},"sourceType":"module"}